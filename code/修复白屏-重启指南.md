# ä¿®å¤ç™½å± - é‡å¯æŒ‡å—

## ğŸš¨ é—®é¢˜ç—‡çŠ¶
- âœ… å·²ä¿®å¤å¯¼å…¥é—®é¢˜ï¼ˆLETTERS å¯¼å‡ºé”™è¯¯ï¼‰
- âœ… å·²é…ç½® Vite strictPort å’Œ HMR
- âœ… å·²ä¼˜åŒ– dev è„šæœ¬

---

## ğŸ”§ æ¸…ç†å’Œé‡å¯æ­¥éª¤

### æ­¥éª¤ 1: åœæ­¢æ‰€æœ‰ Node è¿›ç¨‹

**Windows (PowerShell)**:
```powershell
# æŸ¥çœ‹æ‰€æœ‰ node è¿›ç¨‹
tasklist | findstr node

# åœæ­¢æ‰€æœ‰ node è¿›ç¨‹
taskkill /F /IM node.exe
```

### æ­¥éª¤ 2: æ¸…ç† Vite ç¼“å­˜

```bash
# åœ¨ GestureWorkshop ç›®å½•ä¸‹æ‰§è¡Œ
rmdir /S /Q node_modules\.vite
```

æˆ–è€…ä½¿ç”¨å¼ºåˆ¶æ¸…ç†å¯åŠ¨ï¼š
```bash
npm run dev -- --force
```

### æ­¥éª¤ 3: é‡å¯å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

**é¢„æœŸè¾“å‡º**:
```
[client] VITE v5.x.x  ready in xxx ms
[client] 
[client]   âœ  Local:   http://localhost:5173/
[client]   âœ  Network: use --host to expose
[client]
[server] âœ… Server running on http://localhost:4000
[server] ğŸ”— Attaching Gesture WebSocket...
```

### æ­¥éª¤ 4: æµè§ˆå™¨å¼ºåˆ¶åˆ·æ–°

1. æ‰“å¼€ `http://localhost:5173`
2. æŒ‰ `Ctrl + Shift + R` (Windows) / `Cmd + Shift + R` (Mac) å¼ºåˆ¶åˆ·æ–°

---

## âœ… éªŒæ”¶æ ‡å‡†

### 1. ç»ˆç«¯æ˜¾ç¤ºæ­£å¸¸
- âœ… `[client]` å’Œ `[server]` éƒ½æœ‰è¾“å‡º
- âœ… æ²¡æœ‰ exit code 1 é”™è¯¯
- âœ… ç«¯å£ 5173 å’Œ 4000 éƒ½å·²å¯åŠ¨

### 2. æµè§ˆå™¨åŠ è½½æ­£å¸¸
- âœ… é¡µé¢ä¸å†ç™½å±
- âœ… æ§åˆ¶å°æ—  `LETTERS` export é”™è¯¯
- âœ… æ§åˆ¶å°æ—  `ERR_CONNECTION_REFUSED` é”™è¯¯
- âœ… HMR æ­£å¸¸å·¥ä½œï¼ˆä¿®æ”¹æ–‡ä»¶åè‡ªåŠ¨åˆ·æ–°ï¼‰

### 3. åŠŸèƒ½æµ‹è¯•
- âœ… ç‚¹å‡» "Start Camera" å¯ä»¥æ‰“å¼€æ‘„åƒå¤´
- âœ… é€‰æ‹©æ‰‹åŠ¿åç‚¹å‡» "Start Recognition" å¼€å§‹è¯†åˆ«
- âœ… æŒ‰ `D` é”®å¯ä»¥åˆ‡æ¢ Debug é¢æ¿

---

## ğŸ› å¦‚æœä»ç„¶å‡ºç°é—®é¢˜

### é—®é¢˜ 1: ç«¯å£è¢«å ç”¨
**é”™è¯¯**: `Port 5173 is in use`

**è§£å†³**:
```powershell
# æŸ¥æ‰¾å ç”¨ 5173 ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :5173

# åœæ­¢è¯¥è¿›ç¨‹ï¼ˆæ›¿æ¢ <PID> ä¸ºå®é™…è¿›ç¨‹IDï¼‰
taskkill /F /PID <PID>
```

### é—®é¢˜ 2: LETTERS ä»ç„¶æŠ¥é”™
**è§£å†³**:
1. ç¡®è®¤ `client/src/hooks/useSpellingCoach.ts` ç¬¬ 18 è¡Œæœ‰ï¼š
   ```typescript
   export const LETTERS = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
   ```

2. æ¸…ç†æµè§ˆå™¨ç¼“å­˜:
   - æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
   - å³é”®åˆ·æ–°æŒ‰é’® â†’ é€‰æ‹© "æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"

### é—®é¢˜ 3: WebSocket è¿æ¥å¤±è´¥
**é”™è¯¯**: `[WS] âš ï¸ Error` æˆ– `âŒ Closed`

**æ£€æŸ¥**:
1. åç«¯æ˜¯å¦å¯åŠ¨ (åº”è¯¥çœ‹åˆ° `[server]` æ—¥å¿—)
2. ç«¯å£ 4000 æ˜¯å¦è¢«å ç”¨
3. Python ç¯å¢ƒæ˜¯å¦æ­£å¸¸ (åº”è¯¥çœ‹åˆ° `ğŸ Starting Python`)

---

## ğŸ“Š æ”¹åŠ¨æ€»ç»“

### ä¿®æ”¹çš„æ–‡ä»¶:
1. âœ… `client/src/components/WebcamViewer.tsx` - æ”¹ä¸ºç›¸å¯¹è·¯å¾„å¯¼å…¥
2. âœ… `client/src/components/WebcamOverlay.tsx` - æ”¹ä¸ºç›¸å¯¹è·¯å¾„å¯¼å…¥
3. âœ… `client/src/hooks/useGestureScore.ts` - æ”¹ä¸ºç›¸å¯¹è·¯å¾„å¯¼å…¥
4. âœ… `package.json` - ä¼˜åŒ– dev è„šæœ¬ (strictPort + concurrently)
5. âœ… `vite.config.ts` - æ·»åŠ  strictPort å’Œ HMR é…ç½®
6. âœ… `client/public/favicon.ico` - åˆ›å»ºç©ºæ–‡ä»¶é¿å… 404

### ä¸ºä»€ä¹ˆæ”¹ä¸ºç›¸å¯¹è·¯å¾„?
- Vite HMR åœ¨æŸäº›æƒ…å†µä¸‹å¯¹ `@` åˆ«åè§£æä¼šæœ‰ç¼“å­˜é—®é¢˜
- ç›¸å¯¹è·¯å¾„æ›´ç¨³å®šï¼Œé¿å…æ¨¡å—è§£æé”™è¯¯
- ç”Ÿäº§æ„å»ºæ—¶ä¼šè‡ªåŠ¨ä¼˜åŒ–ï¼Œä¸å½±å“æ€§èƒ½

---

## ğŸ¯ ä¸‹ä¸€æ­¥

ä¿®å¤æˆåŠŸåï¼Œæ‚¨å¯ä»¥ï¼š
1. æŒ‰ `D` é”®æ‰“å¼€ Debug é¢æ¿
2. éªŒè¯æ€§èƒ½ä¼˜åŒ–æ•ˆæœï¼ˆå»¶è¿Ÿã€FPS ç­‰ï¼‰
3. å‚è€ƒ `æ€§èƒ½ä¼˜åŒ–è¯´æ˜.md` è¿›ä¸€æ­¥è°ƒä¼˜

---

**æœ€åæ›´æ–°**: 2025-01-17  
**é—®é¢˜æ¥æº**: Vite HMR æ¨¡å—è§£æ + å¯¼å‡ºç¼“å­˜


